{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/arrowup.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/showFormattedDate.js","webpack://restaurant-apps/./src/scripts/utils/review-initiator.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import Home from \"../views/pages/home\";\r\nimport Detail from \"../views/pages/detail\";\r\nimport Favorite from \"../views/pages/favorite\";\r\n\r\nconst routes = {\r\n  \"/\": Home,\r\n  \"/detail/:id\": Detail,\r\n  \"/favorite\": Favorite,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split(\"/\");\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (\r\n      (splitedUrl.resource ? `/${splitedUrl.resource}` : \"/\") +\r\n      (splitedUrl.id ? \"/:id\" : \"\") +\r\n      (splitedUrl.verb ? `/${splitedUrl.verb}` : \"\")\r\n    );\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","const arrowUp = () => {\r\n  window.onscroll = () => {\r\n    const btnArrowUp = document.querySelector(\".arrow-up\");\r\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\r\n      btnArrowUp.classList.add(\"display\");\r\n    } else {\r\n      btnArrowUp.classList.remove(\"display\");\r\n    }\r\n  };\r\n};\r\n\r\nexport default arrowUp;\r\n","const DrawerInitiator = {\r\n  init({ button, drawer, content }) {\r\n    button.addEventListener(\"click\", (event) => {\r\n      this._toggleDrawer(event, drawer);\r\n    });\r\n\r\n    content.addEventListener(\"click\", (event) => {\r\n      this._closeDrawer(event, drawer);\r\n    });\r\n  },\r\n\r\n  _toggleDrawer(event, drawer) {\r\n    event.stopPropagation();\r\n    drawer.classList.toggle(\"display\");\r\n  },\r\n\r\n  _closeDrawer(event, drawer) {\r\n    event.stopPropagation();\r\n    drawer.classList.remove(\"display\");\r\n  },\r\n};\r\n\r\nexport default DrawerInitiator;\r\n","import {\r\n  createUnlikeButtonTemplate,\r\n  createLikeButtonTemplate,\r\n} from \"../views/templates/template-creator\";\r\n\r\nconst LikeButtonPresenter = {\r\n  async init({ likeButtonContainer, favoriteRestaurants, restaurant }) {\r\n    this._likeButtonContainer = likeButtonContainer;\r\n    this._restaurant = restaurant;\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._restaurant;\r\n\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderLiked();\r\n    } else {\r\n      this._renderLike();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await this._favoriteRestaurants.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderLike() {\r\n    this._likeButtonContainer.innerHTML = createLikeButtonTemplate();\r\n\r\n    const likeButton = document.getElementById(\"likeButton\");\r\n    likeButton.addEventListener(\"click\", async () => {\r\n      await this._favoriteRestaurants.putRestaurant(this._restaurant);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this._likeButtonContainer.innerHTML = createUnlikeButtonTemplate();\r\n\r\n    const likeButton = document.getElementById(\"likeButton\");\r\n    likeButton.addEventListener(\"click\", async () => {\r\n      await this._favoriteRestaurants.deleteRestaurant(this._restaurant.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default LikeButtonPresenter;\r\n","const showFormattedDate = (date) => {\r\n  const options = {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  };\r\n  return new Date(date).toLocaleDateString(\"id-ID\", options);\r\n};\r\n\r\nexport { showFormattedDate };\r\n","/* eslint-disable no-alert */\r\nimport RestaurantSource from \"../data/restaurant-source\";\r\nimport UrlParser from \"../routes/url-parser\";\r\nimport {\r\n  formReviewTemplate,\r\n  printReviewTemplate,\r\n} from \"../views/templates/template-creator\";\r\nimport { showFormattedDate } from \"./showFormattedDate\";\r\n\r\nconst ReviewInitiator = {\r\n  init({ formReviewContainer }) {\r\n    this._formReviewContainer = formReviewContainer;\r\n    this._renderForm();\r\n  },\r\n\r\n  _renderForm() {\r\n    this._formReviewContainer.innerHTML = formReviewTemplate();\r\n    this._isSubmitFrom();\r\n  },\r\n\r\n  _isSubmitFrom() {\r\n    const form = document.querySelector(\"#form\");\r\n\r\n    form.addEventListener(\"submit\", (event) => {\r\n      event.preventDefault();\r\n\r\n      const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n      const nameValue = document.querySelector(\"#name\");\r\n      const reviewValue = document.querySelector(\"#review\");\r\n\r\n      const data = {\r\n        id: url.id,\r\n        name: nameValue.value,\r\n        review: reviewValue.value,\r\n      };\r\n\r\n      this._addRequestReview(data);\r\n    });\r\n  },\r\n\r\n  _addRequestReview(data) {\r\n    const containerCustomerReview = document.querySelector(\r\n      \".container-customer\"\r\n    );\r\n    const nameValue = document.querySelector(\"#name\");\r\n    const reviewValue = document.querySelector(\"#review\");\r\n    const date = new Date().toISOString();\r\n    const reviewTemplate = {\r\n      name: nameValue.value,\r\n      review: reviewValue.value,\r\n      date: showFormattedDate(date),\r\n    };\r\n\r\n    if (data.name === \"\" || data.review === \"\") {\r\n      alert(\"Diisi dulu gan!!\");\r\n    } else {\r\n      RestaurantSource.addReviewRestaurant(data);\r\n      containerCustomerReview.innerHTML += printReviewTemplate(reviewTemplate);\r\n      nameValue.value = \"\";\r\n      reviewValue.value = \"\";\r\n      alert(\"Berhasil, menambahkan data\");\r\n    }\r\n  },\r\n};\r\n\r\nexport default ReviewInitiator;\r\n","import * as WorkboxWindow from \"workbox-window\";\r\n\r\nconst swRegister = async () => {\r\n  if (!(\"serviceWorker\" in navigator)) {\r\n    console.log(\"Service Worker not supported in the browser\");\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox(\"./sw.bundle.js\");\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log(\"Service worker registered\");\r\n  } catch (error) {\r\n    console.log(\"Failed to register service worker\", error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["Home","Detail","Favorite","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","onscroll","btnArrowUp","document","querySelector","innerHeight","scrollY","body","offsetHeight","classList","add","remove","init","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","stopPropagation","toggle","likeButtonContainer","favoriteRestaurants","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurants","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getRestaurant","innerHTML","createLikeButtonTemplate","getElementById","putRestaurant","createUnlikeButtonTemplate","deleteRestaurant","showFormattedDate","date","Date","toLocaleDateString","weekday","year","month","day","formReviewContainer","_formReviewContainer","_renderForm","formReviewTemplate","_isSubmitFrom","preventDefault","UrlParser","nameValue","reviewValue","data","name","value","review","_addRequestReview","containerCustomerReview","toISOString","reviewTemplate","alert","RestaurantSource","printReviewTemplate","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}